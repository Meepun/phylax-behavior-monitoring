<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Behavior Automata Monitor</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script type="module" src="/static/js/diagram.js"></script>
  
</head>

<body class="bg-gray-900 text-white h-screen overflow-hidden">

  <!-- Header -->
  <div class="absolute top-0 left-0 w-full p-4 bg-gray-800 text-center z-10">
    <h1 class="text-xl font-bold">Behavior Monitoring Automata</h1>
    <p class="text-sm text-gray-400">Live state visualization</p>
  </div>

  <!-- User selector -->
  <div class="absolute top-4 left-4 bg-gray-800 p-2 rounded shadow z-10">
    <label for="user-id-input" class="text-white mr-2">User ID:</label>
    <input
        type="text"
        id="user-id-input"
        class="p-1 rounded text-black"
        placeholder="Enter user ID"
        value="test_user_1"
    >
    <button id="update-user-btn" class="ml-2 px-2 py-1 bg-blue-600 text-white rounded">Update</button>
  </div>


  <!-- State info -->
  <div class="absolute top-20 left-4 bg-gray-800 p-4 rounded shadow z-10 mt-4 mb-4">
    <p><strong>User:</strong> <span id="user-id-text">-</span></p>
    <p><strong>State:</strong> <span id="state-text">NORMAL</span></p>
    <p><strong>Score:</strong> <span id="score-text">0</span></p>
  </div>

  <!-- 2D Automata Diagram -->
  <div class="flex justify-center items-center h-screen">
    <svg id="automata-diagram" class="w-full max-w-4xl h-64"></svg>
  </div>

</body>
</html>
